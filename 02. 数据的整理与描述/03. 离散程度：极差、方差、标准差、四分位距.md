

# 离散程度（Measures of Dispersion）

<img width="478" height="286" alt="image" src="https://github.com/user-attachments/assets/3e12fd27-c2d2-4e64-b21a-310eb6ae6d7b" />


---

## 一、概念

* **离散程度**：衡量数据**分散性 dispersity**或**变异程度 Degree of variation**的指标。
* 如果数据差异大 → 离散程度高；如果数据集中 → 离散程度低。
* 常用指标：

  * **极差 (Range)**
  * **方差 (Variance)**
  * **标准差 (Standard Deviation)**
  * **四分位距 (Interquartile Range, IQR)**

---

## 二、极差（Range）

### 1. 定义

* 数据中**最大值与最小值的差**。

$$
R = X_{\max} - X_{\min}
$$

### 2. 特点

* 计算简单，直观反映波动范围。
* 只考虑极端值，受异常值影响大。

📍 **例子**：
数据 {2, 5, 8, 10} → 极差 = 10 - 2 = 8。

---

## 三、方差（Variance）

### 1. 定义

* 所有数据与均值差异的平方的平均值。
* **总体方差 (Population Variance)**：

$$
\sigma^2 = \frac{\sum_{i=1}^N (X_i - \mu)^2}{N}
$$

* **样本方差 (Sample Variance)**：

$$
s^2 = \frac{\sum_{i=1}^n (x_i - \bar{x})^2}{n-1}
$$

### 2. 特点

* 综合考虑所有数据的离散程度。
* 平方运算放大了极端值的影响。

📍 **例子**：
数据 {2, 4, 6}，均值 = 4 → 方差 = $( (2-4)^2+(4-4)^2+(6-4)^2 )/3 = 8/3$。

---

## 四、标准差（Standard Deviation, SD）

### 1. 定义

* 方差的平方根，保持与原数据相同的量纲。

$$
\sigma = \sqrt{\sigma^2}, \quad s = \sqrt{s^2}
$$

### 2. 特点

* 最常用的离散程度指标。
* 直观反映数据与均值的平均偏离程度。

📍 **例子**：
上例中方差 = 8/3 → 标准差 = $\sqrt{8/3} \approx 1.63$。

---

## 五、四分位距（Interquartile Range, IQR）

### 1. 定义

* 上四分位数 (Q3) 与下四分位数 (Q1) 的差。

$$
IQR = Q3 - Q1
$$

### 2. 特点

* 反映中间 50% 数据的离散程度（degree of dispersion）。
* 不受极端值（extreme values）影响，稳健性（Robustness）强。


<img width="600" height="320" alt="image" src="https://github.com/user-attachments/assets/646978c1-5d7c-477a-a586-95e8e51b613c" />  
  
上图叫箱线图（boxplot）

---

# 📊 三种IQR（四分位距）计算方法对比

| 方法                        | Q1 定义                 | Q3 定义                 | 特点               | 举例数据 {2, 4, 6, 8, 100} 结果 |
| ------------------------- | --------------------- | --------------------- | ---------------- | ------------------------- |
| **位置法 (n+1·p 公式法)**       | 在第 $(n+1)×0.25$ 个位置取值 | 在第 $(n+1)×0.75$ 个位置取值 | 常见于**教材和手工计算**   | Q1 = 3, Q3 = 54, IQR = 51 |
| **插值法 (软件默认，如 NumPy, R)** | 25% 分位点，线性插值计算        | 75% 分位点，线性插值计算        | 软件实现广泛使用，结果更“平滑” | Q1 = 4, Q3 = 8, IQR = 4   |
| **Tukey 法 (上下半数据取中位数)**   | 下半部分数据的中位数            | 上半部分数据的中位数            | 常用于绘制**箱线图**     | Q1 = 4, Q3 = 8, IQR = 4   |

---

## 📌 小结

* **教材考试**：多用 **位置法**（容易手算）。
* **软件分析**：NumPy、R 默认用 **插值法**，SPSS 等可能也有选项。
* **箱线图绘制**：常用 **Tukey 法**，因为直观。

👉 不同方法数值可能差别很大，但核心思想一致：
**IQR 衡量的是数据中间 50% 的离散程度**。

---

## 六、四个指标比较

| 指标   | 英文                  | 公式                            | 特点           | 适用场景        |
| ---- | ------------------- | ----------------------------- | ------------ | ----------- |
| 极差   | Range               | $X_{max}-X_{min}$             | 简单直观，受极端值影响大 | 初步描述        |
| 方差   | Variance            | $\sigma^2, s^2$               | 理论意义强，考虑所有数据 | 推断统计        |
| 标准差  | Standard Deviation  | $\sqrt{\sigma^2}, \sqrt{s^2}$ | 常用，直观，受极端值影响 | 描述 & 推断     |
| 四分位距 | Interquartile Range | Q3 - Q1                       | 稳健，不受极端值影响   | 偏态分布、含异常值数据 |

---

## 七、知识结构总结

```
离散程度 → 衡量数据的波动性
  - 极差 (Range)：最大 - 最小
  - 方差 (Variance)：均值差平方的平均
  - 标准差 (SD)：方差的平方根，直观
  - 四分位距 (IQR)：Q3 - Q1，稳健
```

---

✅ **总结**：

* **极差 (Range)**：最简单，但容易受异常值影响。
* **方差 (Variance)**：理论基础强，但不直观。
* **标准差 (Standard Deviation)**：最常用，直观易解释。
* **四分位距 (IQR)**：稳健性强，适合含偏态和异常值的数据。

---



