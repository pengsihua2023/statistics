
# 📘 条件概率、全概率公式与贝叶斯公式 练习题

---

## 1. 条件概率基础

**题目**
一个袋子里有 3 个红球和 2 个蓝球。随机抽出一个球，已知抽到的不是蓝球，求抽到红球的概率。

**解答**
事件 \$A\$ =抽红球， \$B\$ =抽到的不是蓝球。

$$
P(A|B)=\frac{P(A\cap B)}{P(B)}=\frac{3/5}{3/5}=1
$$

因为 \$B\$ 已经说明“不是蓝球”，所以必然是红球。

---

## 2. 条件概率计算

**题目**
一副扑克牌共 52 张。事件 \$A\$=抽到红心，事件 \$B\$=抽到红牌。求 \$P(A|B)\$。

**解答**

$$
P(A|B)=\frac{P(A\cap B)}{P(B)}=\frac{13/52}{26/52}=\tfrac{1}{2}
$$

---

## 3. 乘法公式应用

**题目**
抛两次硬币，求第一次是正面且第二次也是正面的概率。

**解答**

$$
P(A\cap B)=P(A)\cdot P(B|A)=\tfrac{1}{2}\cdot\tfrac{1}{2}=\tfrac{1}{4}
$$

---

## 4. 条件概率与独立性

**题目**
抛骰子一次， \$A\$=出现偶数， \$B\$ =出现大于 4。判断 \$A,B\$ 是否独立。

**解答**

* \$P(A)=3/6=1/2\$
* \$P(B)=2/6=1/3\$
* \$P(A\cap B)={6}=1/6\$

检查：

$$
P(A)P(B)=\tfrac{1}{2}\cdot\tfrac{1}{3}=\tfrac{1}{6}=P(A\cap B)
$$

所以 \$A,B\$ 独立。

---

## 5. 全概率公式（基本）

**题目**
某班 40% 男生、60% 女生。男生迟到概率 0.1，女生迟到概率 0.05。求一个学生迟到的概率。

**解答**
设 \$A\$=迟到，\$B\_1\$=男，\$B\_2\$=女：

$$
P(A)=P(B_1)P(A|B_1)+P(B_2)P(A|B_2)=0.4\cdot0.1+0.6\cdot0.05=0.07
$$

---

## 6. 全概率公式（扩展）

**题目**
一个工厂有三条生产线， \$L\_1,L\_2,L\_3\$ ，产量分别为 30%、50%、20%。次品率分别为 2%、1%、3%。求总体次品率。

**解答**

题目如下：

> 一个工厂有三条生产线 ( \$L\_1,L\_2,L\_3\$ )，产量分别为 30%、50%、20%；次品率分别为 2%、1%、3‰。求总体次品率。

---

## 🧩 一、已知条件

|  生产线  |    产量占比    |     次品率    |
| :---: | :--------: | :--------: |
| (\$L\_1$) | 30% = 0.30 |  2% = 0.02 |
| (\$L\_2$) | 50% = 0.50 |  1% = 0.01 |
| (\$L\_3$) | 20% = 0.20 | 3‰ = 0.003 |

---

## 📘 二、思路

总体次品率 = 各生产线次品率的加权平均（以产量占比为权重）

$$
P(\text{次品}) = P(L_1),P(\text{次品}|L_1) + P(L_2),P(\text{次品}|L_2) + P(L_3),P(\text{次品}|L_3)
$$

---

## 🧮 三、代入计算

$$
P(\text{次品}) = 0.30 \times 0.02 + 0.50 \times 0.01 + 0.20 \times 0.003
$$

$$
= 0.006 + 0.005 + 0.0006 = 0.0116
$$

结果为：1.16%
---

## 💡 五、解释

虽然部分生产线次品率较低（如 L₂ 仅 1%），但由于它产量占比高，对总体次品率影响最大。最终总体次品率为 **1.16%**。

是否希望我帮你扩展一下这个题，比如：随机抽到一个次品，求它来自哪条生产线？（这是贝叶斯定理的延伸题，常见于考试。）


---

## 7. 贝叶斯公式（基本）

**题目**
延续上题，若抽到一个次品，求它来自 \$L\_3\$ 的概率。

**解答**

$$
P(L_3|D)=\frac{P(L_3)P(D|L_3)}{P(D)}=\frac{0.2\cdot0.03}{0.017}=0.353
$$

约 35.3%。

---

## 8. 医学检测问题

**题目**
某病患病率 1%，检测灵敏度 95%，假阳性率 2%。若某人检测阳性，求其真实患病概率。

**解答**

## 🧩 已知条件

* 疾病患病率（先验概率）：
    $P(\text{患病})$ = 1% = 0.01 

* 检测灵敏度（真阳性率）：
    $P(\text{检测阳性} | \text{患病})$ = 95% = 0.95 

* 假阳性率：
   $P(\text{检测阳性} | \text{未患病})$ = 2% = 0.02 

* 我们要求：
   $P(\text{患病} | \text{检测阳性})$ 



## 📘 使用贝叶斯公式

贝叶斯定理如下：

$$
P(\text{患病}|\text{阳性}) = \frac{P(\text{阳性}|\text{患病}) \times P(\text{患病})}{P(\text{阳性})}
$$

其中：

$$
P(\text{阳性}) = P(\text{阳性}|\text{患病})P(\text{患病}) + P(\text{阳性}|\text{未患病})P(\text{未患病})
$$



## 🧮 代入数据计算

首先，计算总阳性概率：

$$
P(\text{阳性}) = 0.95 \times 0.01 + 0.02 \times (1 - 0.01)
$$

$$
= 0.0095 + 0.0198 = 0.0293
$$

然后，计算后验概率：

$$
P(\text{患病}|\text{阳性}) = \frac{0.95 \times 0.01}{0.0293} = \frac{0.0095}{0.0293} \approx 0.324
$$

## 🧠 结果解读

虽然检测灵敏度高达 95%，假阳性率仅 2%，但由于 **总体患病率极低（仅 1%）**，即使检测阳性，也只有大约 **三分之一的概率真正患病**。

这说明：
在低患病率人群中，即使检测阳性，也仍需 **复检或进一步确诊**，因为阳性结果中假阳性居多。

## 9. 多条件全概率

**题目**
某公司 40% 员工在北京，30% 在上海，30% 在深圳。加班概率分别为 0.3、0.2、0.1。求随机选一名员工在加班的概率。

**解答**

$$
P(\text{加班})=0.4\cdot0.3+0.3\cdot0.2+0.3\cdot0.1=0.12+0.06+0.03=0.21
$$

---

## 10. 综合题（贝叶斯推断）

**题目**
一家公司有两类产品：A（占 70%）和 B（占 30%）。质检时 A 的合格率为 90%，B 的合格率为 80%。现随机抽一个产品，检测结果为“合格”，求该产品来自 A 类的概率。

**解答**

$$
P(A|\text{合格})=\frac{P(A)P(\text{合格}|A)}{P(A)P(\text{合格}|A)+P(B)P(\text{合格}|B)}
$$

$$
=\frac{0.7\cdot0.9}{0.7\cdot0.9+0.3\cdot0.8}=\frac{0.63}{0.63+0.24}=0.724
$$

所以该产品来自 A 类的概率约 72.4%。

---

# ✅ 总结

* 条件概率用于刻画事件间的依赖关系。
* 全概率公式帮助分解复杂事件概率。
* 贝叶斯公式用于“结果反推原因”，是推断与机器学习的重要工具。

---


