

# 条件概率与全概率公式、贝叶斯公式

*(Conditional Probability, Law of Total Probability, Bayes’ Theorem)*

---

## 一、条件概率（Conditional Probability）[TouTube link for reference](https://www.youtube.com/watch?v=H02B3aMNKzE)

### 1. 定义

* 在事件 **B 已经发生**的条件下，事件 **A 发生的概率**：

$$
P(A|B) = \frac{P(A \cap B)}{P(B)}, \quad P(B) > 0
$$

### 2. 特点

* 反映了事件之间的依赖关系。
* 当 $P(A|B) = P(A)$ 时，说明 A 与 B **相互独立 (Independence)**。

📍 **例子**：

* 一副扑克牌中，已知抽到的是红牌（B），再抽到“红心 A” (A) 的概率：

$$
P(A|B) = \frac{1/52}{26/52} = 1/26
$$

---

## 二、乘法公式（Multiplication Rule）

* **联合概率公式**：

$$
P(A \cap B) = P(B) \cdot P(A|B) = P(A) \cdot P(B|A)
$$

* 用于计算两个事件同时发生的概率。

---

## 三、全概率公式（Law of Total Probability）

### 1. 定义

* 如果 $\{B_1,B_2,\dots,B_n\}$ 构成一个完备事件组（相互独立，且并为样本空间 S），则：

$$
P(A) = \sum_{i=1}^n P(B_i) \cdot P(A|B_i)
$$

### 2. 意义

* 将复杂事件 A 的概率，分解为在不同条件下的加权平均。

📍 **例子**：
某疾病检出率：

* 男性患者比例 40%，女性 60%；
* 男性得病概率 0.1，女性 0.05；
  计算总得病概率  

>
> * 定义事件 ( A )：一个随机抽取的患者“患有此病”；
> * 定义事件 ( B_1 )：该患者是男性；定义事件 ( B_2 )：该患者是女性；
> * 已知：
>
>   * ( P(B_1) = 0.4 )，( P(B_2) = 0.6 )
>   * ( P(A|B_1) = 0.1 )，( P(A|B_2) = 0.05 )
>
> 根据全概率公式：
> [
> P(A) = P(B_1)P(A|B_1) + P(B_2)P(A|B_2)
> ]
>
> 代入数值：
> [
> P(A) = 0.4×0.1 + 0.6×0.05 = 0.07
> ]
>
> 因此，总体患病率为 **7%**。

---

## 四、贝叶斯公式（Bayes’ Theorem）

### 1. 定义

* 已知结果 A，推断原因 $B_i$ 的概率。

$$
P(B_i|A) = \frac{P(B_i)\cdot P(A|B_i)}{\sum_{j=1}^n P(B_j)\cdot P(A|B_j)}
$$

### 2. 特点

* 将**先验概率 (Prior Probability)** 更新为 **后验概率 (Posterior Probability)**。
* 是现代统计推断与机器学习中的重要工具。

📍 **例子**：
某疾病检测：

* 患病率 1%（先验概率）。
* 患病者检测阳性概率 0.9；未患病者误报率 0.05。
* 问检测阳性者实际患病的概率？

$$
P(\text{患病|阳性}) = \frac{0.01 \times 0.9}{0.01 \times 0.9 + 0.99 \times 0.05} \approx 0.154
$$

👉 尽管测试准确率高，但阳性结果的**真实可信度**只有约 15%。

---

## 五、三者关系总结

| 概念    | 英文                       | 公式                      | 作用                             |                        |         |         |
| ----- | ------------------------ | ----------------------- | ------------------------------ | ---------------------- | ------- | ------- |
| 条件概率  | Conditional Probability  | (P(A                    | B) = \frac{P(A \cap B)}{P(B)}) | 计算在 B 发生条件下 A 的概率      |         |         |
| 全概率公式 | Law of Total Probability | (P(A) = \sum P(B\_i)P(A | B\_i))                         | 将复杂事件概率分解              |         |         |
| 贝叶斯公式 | Bayes’ Theorem           | (P(B\_i                 | A) = \frac{P(B\_i)P(A          | B\_i)}{\sum P(B\_j)P(A | B\_j)}) | 从结果推断原因 |

---

## 六、知识结构图

```
条件概率 (P(A|B))
   ↓ → 乘法公式
全概率公式 → 分解复杂概率
   ↓
贝叶斯公式 → 根据结果反推原因（先验 → 后验）
```

---

✅ **总结**：

* **条件概率 (Conditional Probability)**：描述事件间的依赖性。
* **全概率公式 (Law of Total Probability)**：用条件概率分解复杂事件。
* **贝叶斯公式 (Bayes’ Theorem)**：利用观测结果修正对原因的判断，是现代统计与机器学习的重要基石。

---


